import{e as p,a as g,p as x,b as _,c as k,d as y}from"./TextInput-R9rkhy6D.js";import{r as S,g as w,j as l,k as N,t as P,c as b,a as h,d,m as o,o as F}from"./index-yYJWrP6p.js";import"./PrimaryButton.vue_vue_type_script_setup_true_lang-D60_brwL.js";function R(f){const e=p(),s=S("");let t=null;w(f,a=>{if(t&&clearTimeout(t),!a||!a.trim()){s.value="";return}t=setTimeout(()=>{s.value=a.trim().toLowerCase()},300)},{immediate:!0});const{data:u,isLoading:i,error:c}=g({queryKey:l(()=>["favorite-pokemon",e.favoriteNames]),queryFn:()=>x.getFavoritePokemon(e.favoriteNames),enabled:l(()=>e.favoriteNames.length>0),staleTime:5*60*1e3,retry:2}),n=l(()=>s.value.length>0),m=l(()=>{const a=u.value||[];return n.value?a.filter(v=>v.name.toLowerCase().includes(s.value)):a}),r=l(()=>n.value?m.value.length===0&&!i.value:e.favoriteNames.length===0);return{displayedPokemon:m,isLoading:i,error:c,hasSearched:n,showNoResults:r}}const V={class:"mx-auto h-screen flex flex-col"},L={class:"w-full max-w-4xl mx-auto flex-shrink-0 p-4"},Q={class:"w-full max-w-4xl mx-auto flex-1 mb-4 min-h-0 px-3"},q={__name:"FavoritesPage",setup(f){const e=N(),s=P(e,"searchQuery"),{displayedPokemon:t,isLoading:u,error:i,hasSearched:c,showNoResults:n}=R(s);return(m,r)=>(F(),b("div",V,[h("div",L,[d(_,{modelValue:o(e).searchQuery,"onUpdate:modelValue":r[0]||(r[0]=a=>o(e).searchQuery=a),placeholder:"Search favorite Pokemon..."},null,8,["modelValue"])]),h("div",Q,[d(k,{"displayed-pokemon":o(t),"is-loading":o(u),error:o(i),"show-no-results":o(n),"has-searched":o(c),"has-next-page":!1,"is-fetching-next-page":!1,onResetSearch:r[1]||(r[1]=a=>o(e).clearSearch()),"is-favorites-page":!0},null,8,["displayed-pokemon","is-loading","error","show-no-results","has-searched"])]),d(y)]))}};export{q as default};
